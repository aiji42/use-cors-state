{"version":3,"sources":["App.js","index.js","../../dist/index.es.js"],"names":["App","targetWindow","useCorsState","window","state","setState","type","value","onChange","e","target","parent","iframe","document","createElement","src","body","appendChild","ReactDOM","render","contentWindow","getElementById","globalThis","global","self","createCommonjsModule","fn","basedir","module","path","exports","require","base","Error","commonjsRequire","undefined","postRobot","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","t","mode","__esModule","ns","create","key","bind","n","default","object","property","hasOwnProperty","p","s","__webpack_exports__","isRegex","item","toString","promise_ZalgoPromise","src_types_TYPES_0","window_ProxyWindow","setup","destroy","setup_serializeMessage","setup_deserializeMessage","createProxyWindow","setup_toProxyWindow","on_on","on_once","send_send","markWindowKnown","cleanUpWindow","IE_WIN_ACCESS_ERROR","isAboutProtocol","win","location","protocol","getParent","err","getOpener","opener","canReadFromWindow","getActualDomain","host","getDomain","domain","mockDomain","indexOf","isSameDomain","desc","getOwnPropertyDescriptor","assertSameDomain","isAncestorParent","child","childParent","result","push","getFrames","frames","len","length","frame","_i","_frame","iframeWindows","iframeFrames","isWindowClosed","allowMock","closed","message","mockclosed","top","iframeIndex","collection","parentNode","doc","ownerDocument","documentElement","contains","getAncestor","matchDomain","pattern","origin","Array","isArray","Boolean","match","JSON","stringify","some","subpattern","isWindow","obj","Window","__cross_domain_utils_window_check__","closeWindow","close","utils_isPromise","Promise","constructor","_toString","then","flushPromise","dispatchedErrors","possiblyUnhandledPromiseHandlers","activeCount","flushActive","promise","resolve","startActive","endActive","ZalgoPromise","handler","_this","this","resolved","rejected","errorHandled","error","handlers","dispatching","stack","_result","_error","isAsync","res","reject","_proto","prototype","dispatch","_this2","_err","setTimeout","j","asyncReject","chain","firstPromise","secondPromise","_handlers$i","onSuccess","onError","_result2","catch","finally","onFinally","try","timeout","time","_this3","clearTimeout","toPromise","TypeError","all","promises","count","results","prom","hash","awaitPromises","_loop","map","items","method","onPossiblyUnhandledException","cancel","splice","context","args","apply","delay","_delay","isPromise","flush","Zalgo","util_safeIndexOf","objectIDs","weakmap_CrossDomainSafeWeakMap","CrossDomainSafeWeakMap","weakmap","keys","values","Math","random","WeakMap","freeze","testWeakMap","testKey","set","_cleanupClosedWindows","delete","isSafeToReadWrite","entry","writable","index","has","getOrSet","uniqueID","chars","replace","charAt","floor","str","btoa","encodeURIComponent","p1","String","fromCharCode","parseInt","Buffer","from","Date","toISOString","slice","toLowerCase","serializeArgs","subkey","val","uid","memoizePromise","cache","memoizedPromiseFunction","_arguments","arguments","_len2","_key2","reset","__name__","displayName","src_util_noop","stringifyError","level","newErr","util_isRegex","util_getOrSet","global_getGlobal","__post_robot_10_0_39__","getObj","globalStore","defStore","store","storeKey","defVal","del","_SERIALIZER","WildCard","getWildcard","WINDOW_WILDCARD","windowStore","winStore","getStore","getInstanceID","resolveHelloPromise","_ref","helloPromises","existingPromise","newPromise","sayHello","_ref4","send","instanceID","_ref5","data","getWindowInstanceID","_ref6","_ref7","isSerializedType","__type__","determineType","serializeType","__val__","_DESERIALIZER","SERIALIZER","function","code","regex","source","date","toJSON","array","string","number","boolean","null","defaultSerializers","DESERIALIZER","_ref2","RegExp","defaultDeserializers","cleanupProxyWindows","idToProxyWindow","_i2","_idToProxyWindow$keys2","id","shouldClean","getSerializedWindow","winPromise","_ref$id","windowNamePromise","windowTypePromise","getType","getName","focus","isClosed","setLocation","href","setName","sameDomain","frameElement","_i21","_document$querySelect2","querySelectorAll","setAttribute","interval","setInterval","clearInterval","ProxyWindow","serializedWindow","isProxyWindow","actualWindow","actualWindowPromise","getID","setWindow","isPopup","_this4","isPopupPromise","getNamePromise","reopenPromise","_ref3","open","focusPromise","getWindow","awaitWindow","matchWindow","_this5","proxyInstanceID","knownWindowInstanceID","unwrap","serialize","toProxyWindow","deserialize","_ref8","_ref9","addMethod","methodStore","proxyWindowMethods","lookupMethod","function_serializeFunction","destination","on","meth","methodSource","arg","join","__id__","serializeMessage","_serialize","serializers","serializer","deserializeMessage","_deserialize","deserializers","parse","deserializer","cross_domain_zalgo_promise","serializedPromise","cross_domain_function","serializedFunction","getDeserializedFunction","opts","crossDomainFunctionWrapper","_args","fireAndForget","__origin__","__source__","cross_domain_window","_RECEIVE_MESSAGE_TYPE","SEND_MESSAGE_STRATEGIES","send_sendMessage","domainBuffer","buffer","serializedMessage","strategies","errors","strategyName","getResponseListener","deleteResponseListener","isResponseListenerErrored","getRequestListener","requestListeners","_i4","winQualifier","nameListeners","domainListeners","__domain_regex__","_i6","_domainListeners$__DO2","_domainListeners$__DO3","listener","postrobot_post_message","postMessage","RECEIVE_MESSAGE_TYPES","postrobot_message_request","options","logName","sendResponse","ack","pathname","handleError","postrobot_message_ack","postrobot_message_response","receive_receiveMessage","event","receivedMessages","messages","parsedMessage","parseMessages","requestListener","addRequestListener","listenersCollection","_i8","_win2","_i10","_listenersCollection","_i12","_domain2","_i14","existingListener","regexListeners","regexListener","strDomain","errorHandler","domainMatcher","responseTimeout","childTimeout","actualParent","_i7","_getAllChildFrames4","getAllChildFrames","_i3","_getFrames2","_i5","_getAllChildFrames2","_i15","_getFrames8","_temp","targetDomain","actualDomain","normalizedDomain","responseListener","reqPromises","totalAckTimeout","totalResTimeout","ackTimeout","resTimeout","loop","cancelled","max","initialized","receiveMessage","sourceElement","originalEvent","addEventListener","removeEventListener","responseListeners","_responseListeners$ke2","_requestPromises$get2","postRobot$1","synchronizingKey","initialValue","_a","useState","sendable","useRef","useEffect","literner","current"],"mappings":"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","file":"static/js/main.827c336c.chunk.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useCorsState } from 'use-cors-state'\n\nconst App = ({ targetWindow }) => {\n  const [state, setState] = useCorsState('example', { window: targetWindow }, '')\n  return (\n    <div>\n      <input type='text' value={state} onChange={(e) => setState(e.target.value)} />\n      <p>Synchronized!!: {state}</p>\n    </div>\n  )\n}\n\nApp.propTypes = {\n  targetWindow: PropTypes.object.isRequired\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './App'\n\nif (window.parent === window) {\n  const iframe = document.createElement('iframe')\n  iframe.src = '/use-cors-state/'\n  document.body.appendChild(iframe)\n  ReactDOM.render(<App targetWindow={iframe.contentWindow} />, document.getElementById('root'))\n} else {\n  ReactDOM.render(<App targetWindow={window.parent} />, document.getElementById('root'))\n}\n","import { useState, useRef, useEffect } from 'react';\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t  path: basedir,\n\t  exports: {},\n\t  require: function (path, base) {\n      return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n    }\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar postRobot = createCommonjsModule(function (module, exports) {\n!function(root, factory) {\n     module.exports = factory() ;\n}(\"undefined\" != typeof self ? self : commonjsGlobal, (function() {\n    return function(modules) {\n        var installedModules = {};\n        function __webpack_require__(moduleId) {\n            if (installedModules[moduleId]) return installedModules[moduleId].exports;\n            var module = installedModules[moduleId] = {\n                i: moduleId,\n                l: !1,\n                exports: {}\n            };\n            modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n            module.l = !0;\n            return module.exports;\n        }\n        __webpack_require__.m = modules;\n        __webpack_require__.c = installedModules;\n        __webpack_require__.d = function(exports, name, getter) {\n            __webpack_require__.o(exports, name) || Object.defineProperty(exports, name, {\n                enumerable: !0,\n                get: getter\n            });\n        };\n        __webpack_require__.r = function(exports) {\n            \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(exports, Symbol.toStringTag, {\n                value: \"Module\"\n            });\n            Object.defineProperty(exports, \"__esModule\", {\n                value: !0\n            });\n        };\n        __webpack_require__.t = function(value, mode) {\n            1 & mode && (value = __webpack_require__(value));\n            if (8 & mode) return value;\n            if (4 & mode && \"object\" == typeof value && value && value.__esModule) return value;\n            var ns = Object.create(null);\n            __webpack_require__.r(ns);\n            Object.defineProperty(ns, \"default\", {\n                enumerable: !0,\n                value: value\n            });\n            if (2 & mode && \"string\" != typeof value) for (var key in value) __webpack_require__.d(ns, key, function(key) {\n                return value[key];\n            }.bind(null, key));\n            return ns;\n        };\n        __webpack_require__.n = function(module) {\n            var getter = module && module.__esModule ? function() {\n                return module.default;\n            } : function() {\n                return module;\n            };\n            __webpack_require__.d(getter, \"a\", getter);\n            return getter;\n        };\n        __webpack_require__.o = function(object, property) {\n            return {}.hasOwnProperty.call(object, property);\n        };\n        __webpack_require__.p = \"\";\n        return __webpack_require__(__webpack_require__.s = 0);\n    }([ function(module, __webpack_exports__, __webpack_require__) {\n        __webpack_require__.r(__webpack_exports__);\n        __webpack_require__.d(__webpack_exports__, \"Promise\", (function() {\n            return promise_ZalgoPromise;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"TYPES\", (function() {\n            return src_types_TYPES_0;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"ProxyWindow\", (function() {\n            return window_ProxyWindow;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"setup\", (function() {\n            return setup;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"destroy\", (function() {\n            return destroy;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"serializeMessage\", (function() {\n            return setup_serializeMessage;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"deserializeMessage\", (function() {\n            return setup_deserializeMessage;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"createProxyWindow\", (function() {\n            return createProxyWindow;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"toProxyWindow\", (function() {\n            return setup_toProxyWindow;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"on\", (function() {\n            return on_on;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"once\", (function() {\n            return on_once;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"send\", (function() {\n            return send_send;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"markWindowKnown\", (function() {\n            return markWindowKnown;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"cleanUpWindow\", (function() {\n            return cleanUpWindow;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"bridge\", (function() {}));\n        function isRegex(item) {\n            return \"[object RegExp]\" === {}.toString.call(item);\n        }\n        var IE_WIN_ACCESS_ERROR = \"Call was rejected by callee.\\r\\n\";\n        function isAboutProtocol(win) {\n            void 0 === win && (win = window);\n            return \"about:\" === win.location.protocol;\n        }\n        function getParent(win) {\n            void 0 === win && (win = window);\n            if (win) try {\n                if (win.parent && win.parent !== win) return win.parent;\n            } catch (err) {}\n        }\n        function getOpener(win) {\n            void 0 === win && (win = window);\n            if (win && !getParent(win)) try {\n                return win.opener;\n            } catch (err) {}\n        }\n        function canReadFromWindow(win) {\n            try {\n                return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function getActualDomain(win) {\n            void 0 === win && (win = window);\n            var location = win.location;\n            if (!location) throw new Error(\"Can not read window location\");\n            var protocol = location.protocol;\n            if (!protocol) throw new Error(\"Can not read window protocol\");\n            if (\"file:\" === protocol) return \"file://\";\n            if (\"about:\" === protocol) {\n                var parent = getParent(win);\n                return parent && canReadFromWindow() ? getActualDomain(parent) : \"about://\";\n            }\n            var host = location.host;\n            if (!host) throw new Error(\"Can not read window host\");\n            return protocol + \"//\" + host;\n        }\n        function getDomain(win) {\n            void 0 === win && (win = window);\n            var domain = getActualDomain(win);\n            return domain && win.mockDomain && 0 === win.mockDomain.indexOf(\"mock:\") ? win.mockDomain : domain;\n        }\n        function isSameDomain(win) {\n            if (!function(win) {\n                try {\n                    if (win === window) return !0;\n                } catch (err) {}\n                try {\n                    var desc = Object.getOwnPropertyDescriptor(win, \"location\");\n                    if (desc && !1 === desc.enumerable) return !1;\n                } catch (err) {}\n                try {\n                    if (isAboutProtocol(win) && canReadFromWindow()) return !0;\n                } catch (err) {}\n                try {\n                    if (getActualDomain(win) === getActualDomain(window)) return !0;\n                } catch (err) {}\n                return !1;\n            }(win)) return !1;\n            try {\n                if (win === window) return !0;\n                if (isAboutProtocol(win) && canReadFromWindow()) return !0;\n                if (getDomain(window) === getDomain(win)) return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function assertSameDomain(win) {\n            if (!isSameDomain(win)) throw new Error(\"Expected window to be same domain\");\n            return win;\n        }\n        function isAncestorParent(parent, child) {\n            if (!parent || !child) return !1;\n            var childParent = getParent(child);\n            return childParent ? childParent === parent : -1 !== function(win) {\n                var result = [];\n                try {\n                    for (;win.parent !== win; ) {\n                        result.push(win.parent);\n                        win = win.parent;\n                    }\n                } catch (err) {}\n                return result;\n            }(child).indexOf(parent);\n        }\n        function getFrames(win) {\n            var result = [];\n            var frames;\n            try {\n                frames = win.frames;\n            } catch (err) {\n                frames = win;\n            }\n            var len;\n            try {\n                len = frames.length;\n            } catch (err) {}\n            if (0 === len) return result;\n            if (len) {\n                for (var i = 0; i < len; i++) {\n                    var frame = void 0;\n                    try {\n                        frame = frames[i];\n                    } catch (err) {\n                        continue;\n                    }\n                    result.push(frame);\n                }\n                return result;\n            }\n            for (var _i = 0; _i < 100; _i++) {\n                var _frame = void 0;\n                try {\n                    _frame = frames[_i];\n                } catch (err) {\n                    return result;\n                }\n                if (!_frame) return result;\n                result.push(_frame);\n            }\n            return result;\n        }\n        var iframeWindows = [];\n        var iframeFrames = [];\n        function isWindowClosed(win, allowMock) {\n            void 0 === allowMock && (allowMock = !0);\n            try {\n                if (win === window) return !1;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (!win) return !0;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (win.closed) return !0;\n            } catch (err) {\n                return !err || err.message !== IE_WIN_ACCESS_ERROR;\n            }\n            if (allowMock && isSameDomain(win)) try {\n                if (win.mockclosed) return !0;\n            } catch (err) {}\n            try {\n                if (!win.parent || !win.top) return !0;\n            } catch (err) {}\n            var iframeIndex = function(collection, item) {\n                for (var i = 0; i < collection.length; i++) try {\n                    if (collection[i] === item) return i;\n                } catch (err) {}\n                return -1;\n            }(iframeWindows, win);\n            if (-1 !== iframeIndex) {\n                var frame = iframeFrames[iframeIndex];\n                if (frame && function(frame) {\n                    if (!frame.contentWindow) return !0;\n                    if (!frame.parentNode) return !0;\n                    var doc = frame.ownerDocument;\n                    if (doc && doc.documentElement && !doc.documentElement.contains(frame)) {\n                        var parent = frame;\n                        for (;parent.parentNode && parent.parentNode !== parent; ) parent = parent.parentNode;\n                        if (!parent.host || !doc.documentElement.contains(parent.host)) return !0;\n                    }\n                    return !1;\n                }(frame)) return !0;\n            }\n            return !1;\n        }\n        function getAncestor(win) {\n            void 0 === win && (win = window);\n            return getOpener(win = win || window) || getParent(win) || void 0;\n        }\n        function matchDomain(pattern, origin) {\n            if (\"string\" == typeof pattern) {\n                if (\"string\" == typeof origin) return \"*\" === pattern || origin === pattern;\n                if (isRegex(origin)) return !1;\n                if (Array.isArray(origin)) return !1;\n            }\n            return isRegex(pattern) ? isRegex(origin) ? pattern.toString() === origin.toString() : !Array.isArray(origin) && Boolean(origin.match(pattern)) : !!Array.isArray(pattern) && (Array.isArray(origin) ? JSON.stringify(pattern) === JSON.stringify(origin) : !isRegex(origin) && pattern.some((function(subpattern) {\n                return matchDomain(subpattern, origin);\n            })));\n        }\n        function isWindow(obj) {\n            try {\n                if (obj === window) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (\"[object Window]\" === {}.toString.call(obj)) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (window.Window && obj instanceof window.Window) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.self === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.parent === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.top === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && \"__unlikely_value__\" === obj.__cross_domain_utils_window_check__) return !1;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (\"postMessage\" in obj && \"self\" in obj && \"location\" in obj) return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function closeWindow(win) {\n            try {\n                win.close();\n            } catch (err) {}\n        }\n        function utils_isPromise(item) {\n            try {\n                if (!item) return !1;\n                if (\"undefined\" != typeof Promise && item instanceof Promise) return !0;\n                if (\"undefined\" != typeof window && \"function\" == typeof window.Window && item instanceof window.Window) return !1;\n                if (\"undefined\" != typeof window && \"function\" == typeof window.constructor && item instanceof window.constructor) return !1;\n                var _toString = {}.toString;\n                if (_toString) {\n                    var name = _toString.call(item);\n                    if (\"[object Window]\" === name || \"[object global]\" === name || \"[object DOMWindow]\" === name) return !1;\n                }\n                if (\"function\" == typeof item.then) return !0;\n            } catch (err) {\n                return !1;\n            }\n            return !1;\n        }\n        var dispatchedErrors = [];\n        var possiblyUnhandledPromiseHandlers = [];\n        var activeCount = 0;\n        var flushPromise;\n        function flushActive() {\n            if (!activeCount && flushPromise) {\n                var promise = flushPromise;\n                flushPromise = null;\n                promise.resolve();\n            }\n        }\n        function startActive() {\n            activeCount += 1;\n        }\n        function endActive() {\n            activeCount -= 1;\n            flushActive();\n        }\n        var promise_ZalgoPromise = function() {\n            function ZalgoPromise(handler) {\n                var _this = this;\n                this.resolved = void 0;\n                this.rejected = void 0;\n                this.errorHandled = void 0;\n                this.value = void 0;\n                this.error = void 0;\n                this.handlers = void 0;\n                this.dispatching = void 0;\n                this.stack = void 0;\n                this.resolved = !1;\n                this.rejected = !1;\n                this.errorHandled = !1;\n                this.handlers = [];\n                if (handler) {\n                    var _result;\n                    var _error;\n                    var resolved = !1;\n                    var rejected = !1;\n                    var isAsync = !1;\n                    startActive();\n                    try {\n                        handler((function(res) {\n                            if (isAsync) _this.resolve(res); else {\n                                resolved = !0;\n                                _result = res;\n                            }\n                        }), (function(err) {\n                            if (isAsync) _this.reject(err); else {\n                                rejected = !0;\n                                _error = err;\n                            }\n                        }));\n                    } catch (err) {\n                        endActive();\n                        this.reject(err);\n                        return;\n                    }\n                    endActive();\n                    isAsync = !0;\n                    resolved ? this.resolve(_result) : rejected && this.reject(_error);\n                }\n            }\n            var _proto = ZalgoPromise.prototype;\n            _proto.resolve = function(result) {\n                if (this.resolved || this.rejected) return this;\n                if (utils_isPromise(result)) throw new Error(\"Can not resolve promise with another promise\");\n                this.resolved = !0;\n                this.value = result;\n                this.dispatch();\n                return this;\n            };\n            _proto.reject = function(error) {\n                var _this2 = this;\n                if (this.resolved || this.rejected) return this;\n                if (utils_isPromise(error)) throw new Error(\"Can not reject promise with another promise\");\n                if (!error) {\n                    var _err = error && \"function\" == typeof error.toString ? error.toString() : {}.toString.call(error);\n                    error = new Error(\"Expected reject to be called with Error, got \" + _err);\n                }\n                this.rejected = !0;\n                this.error = error;\n                this.errorHandled || setTimeout((function() {\n                    _this2.errorHandled || function(err, promise) {\n                        if (-1 === dispatchedErrors.indexOf(err)) {\n                            dispatchedErrors.push(err);\n                            setTimeout((function() {\n                                throw err;\n                            }), 1);\n                            for (var j = 0; j < possiblyUnhandledPromiseHandlers.length; j++) possiblyUnhandledPromiseHandlers[j](err, promise);\n                        }\n                    }(error, _this2);\n                }), 1);\n                this.dispatch();\n                return this;\n            };\n            _proto.asyncReject = function(error) {\n                this.errorHandled = !0;\n                this.reject(error);\n                return this;\n            };\n            _proto.dispatch = function() {\n                var resolved = this.resolved, rejected = this.rejected, handlers = this.handlers;\n                if (!this.dispatching && (resolved || rejected)) {\n                    this.dispatching = !0;\n                    startActive();\n                    var chain = function(firstPromise, secondPromise) {\n                        return firstPromise.then((function(res) {\n                            secondPromise.resolve(res);\n                        }), (function(err) {\n                            secondPromise.reject(err);\n                        }));\n                    };\n                    for (var i = 0; i < handlers.length; i++) {\n                        var _handlers$i = handlers[i], onSuccess = _handlers$i.onSuccess, onError = _handlers$i.onError, promise = _handlers$i.promise;\n                        var _result2 = void 0;\n                        if (resolved) try {\n                            _result2 = onSuccess ? onSuccess(this.value) : this.value;\n                        } catch (err) {\n                            promise.reject(err);\n                            continue;\n                        } else if (rejected) {\n                            if (!onError) {\n                                promise.reject(this.error);\n                                continue;\n                            }\n                            try {\n                                _result2 = onError(this.error);\n                            } catch (err) {\n                                promise.reject(err);\n                                continue;\n                            }\n                        }\n                        if (_result2 instanceof ZalgoPromise && (_result2.resolved || _result2.rejected)) {\n                            _result2.resolved ? promise.resolve(_result2.value) : promise.reject(_result2.error);\n                            _result2.errorHandled = !0;\n                        } else utils_isPromise(_result2) ? _result2 instanceof ZalgoPromise && (_result2.resolved || _result2.rejected) ? _result2.resolved ? promise.resolve(_result2.value) : promise.reject(_result2.error) : chain(_result2, promise) : promise.resolve(_result2);\n                    }\n                    handlers.length = 0;\n                    this.dispatching = !1;\n                    endActive();\n                }\n            };\n            _proto.then = function(onSuccess, onError) {\n                if (onSuccess && \"function\" != typeof onSuccess && !onSuccess.call) throw new Error(\"Promise.then expected a function for success handler\");\n                if (onError && \"function\" != typeof onError && !onError.call) throw new Error(\"Promise.then expected a function for error handler\");\n                var promise = new ZalgoPromise;\n                this.handlers.push({\n                    promise: promise,\n                    onSuccess: onSuccess,\n                    onError: onError\n                });\n                this.errorHandled = !0;\n                this.dispatch();\n                return promise;\n            };\n            _proto.catch = function(onError) {\n                return this.then(void 0, onError);\n            };\n            _proto.finally = function(onFinally) {\n                if (onFinally && \"function\" != typeof onFinally && !onFinally.call) throw new Error(\"Promise.finally expected a function\");\n                return this.then((function(result) {\n                    return ZalgoPromise.try(onFinally).then((function() {\n                        return result;\n                    }));\n                }), (function(err) {\n                    return ZalgoPromise.try(onFinally).then((function() {\n                        throw err;\n                    }));\n                }));\n            };\n            _proto.timeout = function(time, err) {\n                var _this3 = this;\n                if (this.resolved || this.rejected) return this;\n                var timeout = setTimeout((function() {\n                    _this3.resolved || _this3.rejected || _this3.reject(err || new Error(\"Promise timed out after \" + time + \"ms\"));\n                }), time);\n                return this.then((function(result) {\n                    clearTimeout(timeout);\n                    return result;\n                }));\n            };\n            _proto.toPromise = function() {\n                if (\"undefined\" == typeof Promise) throw new TypeError(\"Could not find Promise\");\n                return Promise.resolve(this);\n            };\n            ZalgoPromise.resolve = function(value) {\n                return value instanceof ZalgoPromise ? value : utils_isPromise(value) ? new ZalgoPromise((function(resolve, reject) {\n                    return value.then(resolve, reject);\n                })) : (new ZalgoPromise).resolve(value);\n            };\n            ZalgoPromise.reject = function(error) {\n                return (new ZalgoPromise).reject(error);\n            };\n            ZalgoPromise.asyncReject = function(error) {\n                return (new ZalgoPromise).asyncReject(error);\n            };\n            ZalgoPromise.all = function(promises) {\n                var promise = new ZalgoPromise;\n                var count = promises.length;\n                var results = [];\n                if (!count) {\n                    promise.resolve(results);\n                    return promise;\n                }\n                var chain = function(i, firstPromise, secondPromise) {\n                    return firstPromise.then((function(res) {\n                        results[i] = res;\n                        0 == (count -= 1) && promise.resolve(results);\n                    }), (function(err) {\n                        secondPromise.reject(err);\n                    }));\n                };\n                for (var i = 0; i < promises.length; i++) {\n                    var prom = promises[i];\n                    if (prom instanceof ZalgoPromise) {\n                        if (prom.resolved) {\n                            results[i] = prom.value;\n                            count -= 1;\n                            continue;\n                        }\n                    } else if (!utils_isPromise(prom)) {\n                        results[i] = prom;\n                        count -= 1;\n                        continue;\n                    }\n                    chain(i, ZalgoPromise.resolve(prom), promise);\n                }\n                0 === count && promise.resolve(results);\n                return promise;\n            };\n            ZalgoPromise.hash = function(promises) {\n                var result = {};\n                var awaitPromises = [];\n                var _loop = function(key) {\n                    if (promises.hasOwnProperty(key)) {\n                        var value = promises[key];\n                        utils_isPromise(value) ? awaitPromises.push(value.then((function(res) {\n                            result[key] = res;\n                        }))) : result[key] = value;\n                    }\n                };\n                for (var key in promises) _loop(key);\n                return ZalgoPromise.all(awaitPromises).then((function() {\n                    return result;\n                }));\n            };\n            ZalgoPromise.map = function(items, method) {\n                return ZalgoPromise.all(items.map(method));\n            };\n            ZalgoPromise.onPossiblyUnhandledException = function(handler) {\n                return function(handler) {\n                    possiblyUnhandledPromiseHandlers.push(handler);\n                    return {\n                        cancel: function() {\n                            possiblyUnhandledPromiseHandlers.splice(possiblyUnhandledPromiseHandlers.indexOf(handler), 1);\n                        }\n                    };\n                }(handler);\n            };\n            ZalgoPromise.try = function(method, context, args) {\n                if (method && \"function\" != typeof method && !method.call) throw new Error(\"Promise.try expected a function\");\n                var result;\n                startActive();\n                try {\n                    result = method.apply(context, args || []);\n                } catch (err) {\n                    endActive();\n                    return ZalgoPromise.reject(err);\n                }\n                endActive();\n                return ZalgoPromise.resolve(result);\n            };\n            ZalgoPromise.delay = function(_delay) {\n                return new ZalgoPromise((function(resolve) {\n                    setTimeout(resolve, _delay);\n                }));\n            };\n            ZalgoPromise.isPromise = function(value) {\n                return !!(value && value instanceof ZalgoPromise) || utils_isPromise(value);\n            };\n            ZalgoPromise.flush = function() {\n                return function(Zalgo) {\n                    var promise = flushPromise = flushPromise || new Zalgo;\n                    flushActive();\n                    return promise;\n                }(ZalgoPromise);\n            };\n            return ZalgoPromise;\n        }();\n        function util_safeIndexOf(collection, item) {\n            for (var i = 0; i < collection.length; i++) try {\n                if (collection[i] === item) return i;\n            } catch (err) {}\n            return -1;\n        }\n        var weakmap_CrossDomainSafeWeakMap = function() {\n            function CrossDomainSafeWeakMap() {\n                this.name = void 0;\n                this.weakmap = void 0;\n                this.keys = void 0;\n                this.values = void 0;\n                this.name = \"__weakmap_\" + (1e9 * Math.random() >>> 0) + \"__\";\n                if (function() {\n                    if (\"undefined\" == typeof WeakMap) return !1;\n                    if (void 0 === Object.freeze) return !1;\n                    try {\n                        var testWeakMap = new WeakMap;\n                        var testKey = {};\n                        Object.freeze(testKey);\n                        testWeakMap.set(testKey, \"__testvalue__\");\n                        return \"__testvalue__\" === testWeakMap.get(testKey);\n                    } catch (err) {\n                        return !1;\n                    }\n                }()) try {\n                    this.weakmap = new WeakMap;\n                } catch (err) {}\n                this.keys = [];\n                this.values = [];\n            }\n            var _proto = CrossDomainSafeWeakMap.prototype;\n            _proto._cleanupClosedWindows = function() {\n                var weakmap = this.weakmap;\n                var keys = this.keys;\n                for (var i = 0; i < keys.length; i++) {\n                    var value = keys[i];\n                    if (isWindow(value) && isWindowClosed(value)) {\n                        if (weakmap) try {\n                            weakmap.delete(value);\n                        } catch (err) {}\n                        keys.splice(i, 1);\n                        this.values.splice(i, 1);\n                        i -= 1;\n                    }\n                }\n            };\n            _proto.isSafeToReadWrite = function(key) {\n                return !isWindow(key);\n            };\n            _proto.set = function(key, value) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    weakmap.set(key, value);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var name = this.name;\n                    var entry = key[name];\n                    entry && entry[0] === key ? entry[1] = value : Object.defineProperty(key, name, {\n                        value: [ key, value ],\n                        writable: !0\n                    });\n                    return;\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var keys = this.keys;\n                var values = this.values;\n                var index = util_safeIndexOf(keys, key);\n                if (-1 === index) {\n                    keys.push(key);\n                    values.push(value);\n                } else values[index] = value;\n            };\n            _proto.get = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    if (weakmap.has(key)) return weakmap.get(key);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    return entry && entry[0] === key ? entry[1] : void 0;\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var index = util_safeIndexOf(this.keys, key);\n                if (-1 !== index) return this.values[index];\n            };\n            _proto.delete = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    weakmap.delete(key);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    entry && entry[0] === key && (entry[0] = entry[1] = void 0);\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var keys = this.keys;\n                var index = util_safeIndexOf(keys, key);\n                if (-1 !== index) {\n                    keys.splice(index, 1);\n                    this.values.splice(index, 1);\n                }\n            };\n            _proto.has = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    if (weakmap.has(key)) return !0;\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    return !(!entry || entry[0] !== key);\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                return -1 !== util_safeIndexOf(this.keys, key);\n            };\n            _proto.getOrSet = function(key, getter) {\n                if (this.has(key)) return this.get(key);\n                var value = getter();\n                this.set(key, value);\n                return value;\n            };\n            return CrossDomainSafeWeakMap;\n        }();\n        function uniqueID() {\n            var chars = \"0123456789abcdef\";\n            return \"xxxxxxxxxx\".replace(/./g, (function() {\n                return chars.charAt(Math.floor(Math.random() * chars.length));\n            })) + \"_\" + function(str) {\n                if (\"function\" == typeof btoa) return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (function(m, p1) {\n                    return String.fromCharCode(parseInt(p1, 16));\n                })));\n                if (\"undefined\" != typeof Buffer) return Buffer.from(str, \"utf8\").toString(\"base64\");\n                throw new Error(\"Can not find window.btoa or Buffer\");\n            }((new Date).toISOString().slice(11, 19).replace(\"T\", \".\")).replace(/[^a-zA-Z0-9]/g, \"\").toLowerCase();\n        }\n        var objectIDs;\n        function serializeArgs(args) {\n            try {\n                return JSON.stringify([].slice.call(args), (function(subkey, val) {\n                    return \"function\" == typeof val ? \"memoize[\" + function(obj) {\n                        objectIDs = objectIDs || new weakmap_CrossDomainSafeWeakMap;\n                        if (null == obj || \"object\" != typeof obj && \"function\" != typeof obj) throw new Error(\"Invalid object\");\n                        var uid = objectIDs.get(obj);\n                        if (!uid) {\n                            uid = typeof obj + \":\" + uniqueID();\n                            objectIDs.set(obj, uid);\n                        }\n                        return uid;\n                    }(val) + \"]\" : val;\n                }));\n            } catch (err) {\n                throw new Error(\"Arguments not serializable -- can not be used to memoize\");\n            }\n        }\n        function memoizePromise(method) {\n            var cache = {};\n            function memoizedPromiseFunction() {\n                var _arguments = arguments, _this2 = this;\n                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) args[_key2] = arguments[_key2];\n                var key = serializeArgs(args);\n                if (cache.hasOwnProperty(key)) return cache[key];\n                cache[key] = promise_ZalgoPromise.try((function() {\n                    return method.apply(_this2, _arguments);\n                })).finally((function() {\n                    delete cache[key];\n                }));\n                return cache[key];\n            }\n            memoizedPromiseFunction.reset = function() {\n                cache = {};\n            };\n            return function(fn, name) {\n                try {\n                    delete fn.name;\n                    fn.name = name;\n                } catch (err) {}\n                fn.__name__ = fn.displayName = name;\n                return fn;\n            }(memoizedPromiseFunction, ((fn = method).name || fn.__name__ || fn.displayName || \"anonymous\") + \"::promiseMemoized\");\n            var fn;\n        }\n        function src_util_noop() {}\n        function stringifyError(err, level) {\n            void 0 === level && (level = 1);\n            if (level >= 3) return \"stringifyError stack overflow\";\n            try {\n                if (!err) return \"<unknown error: \" + {}.toString.call(err) + \">\";\n                if (\"string\" == typeof err) return err;\n                if (err instanceof Error) {\n                    var stack = err && err.stack;\n                    var message = err && err.message;\n                    if (stack && message) return -1 !== stack.indexOf(message) ? stack : message + \"\\n\" + stack;\n                    if (stack) return stack;\n                    if (message) return message;\n                }\n                return err && err.toString && \"function\" == typeof err.toString ? err.toString() : {}.toString.call(err);\n            } catch (newErr) {\n                return \"Error while stringifying error: \" + stringifyError(newErr, level + 1);\n            }\n        }\n        function stringify(item) {\n            return \"string\" == typeof item ? item : item && item.toString && \"function\" == typeof item.toString ? item.toString() : {}.toString.call(item);\n        }\n        function util_isRegex(item) {\n            return \"[object RegExp]\" === {}.toString.call(item);\n        }\n        function util_getOrSet(obj, key, getter) {\n            if (obj.hasOwnProperty(key)) return obj[key];\n            var val = getter();\n            obj[key] = val;\n            return val;\n        }\n        function global_getGlobal(win) {\n            void 0 === win && (win = window);\n            return win !== window ? win.__post_robot_10_0_39__ : win.__post_robot_10_0_39__ = win.__post_robot_10_0_39__ || {};\n        }\n        var getObj = function() {\n            return {};\n        };\n        function globalStore(key, defStore) {\n            void 0 === key && (key = \"store\");\n            void 0 === defStore && (defStore = getObj);\n            return util_getOrSet(global_getGlobal(), key, (function() {\n                var store = defStore();\n                return {\n                    has: function(storeKey) {\n                        return store.hasOwnProperty(storeKey);\n                    },\n                    get: function(storeKey, defVal) {\n                        return store.hasOwnProperty(storeKey) ? store[storeKey] : defVal;\n                    },\n                    set: function(storeKey, val) {\n                        store[storeKey] = val;\n                        return val;\n                    },\n                    del: function(storeKey) {\n                        delete store[storeKey];\n                    },\n                    getOrSet: function(storeKey, getter) {\n                        return util_getOrSet(store, storeKey, getter);\n                    },\n                    reset: function() {\n                        store = defStore();\n                    },\n                    keys: function() {\n                        return Object.keys(store);\n                    }\n                };\n            }));\n        }\n        var WildCard = function() {};\n        function getWildcard() {\n            var global = global_getGlobal();\n            global.WINDOW_WILDCARD = global.WINDOW_WILDCARD || new WildCard;\n            return global.WINDOW_WILDCARD;\n        }\n        function windowStore(key, defStore) {\n            void 0 === key && (key = \"store\");\n            void 0 === defStore && (defStore = getObj);\n            return globalStore(\"windowStore\").getOrSet(key, (function() {\n                var winStore = new weakmap_CrossDomainSafeWeakMap;\n                var getStore = function(win) {\n                    return winStore.getOrSet(win, defStore);\n                };\n                return {\n                    has: function(win) {\n                        return getStore(win).hasOwnProperty(key);\n                    },\n                    get: function(win, defVal) {\n                        var store = getStore(win);\n                        return store.hasOwnProperty(key) ? store[key] : defVal;\n                    },\n                    set: function(win, val) {\n                        getStore(win)[key] = val;\n                        return val;\n                    },\n                    del: function(win) {\n                        delete getStore(win)[key];\n                    },\n                    getOrSet: function(win, getter) {\n                        return util_getOrSet(getStore(win), key, getter);\n                    }\n                };\n            }));\n        }\n        function getInstanceID() {\n            return globalStore(\"instance\").getOrSet(\"instanceID\", uniqueID);\n        }\n        function resolveHelloPromise(win, _ref) {\n            var domain = _ref.domain;\n            var helloPromises = windowStore(\"helloPromises\");\n            var existingPromise = helloPromises.get(win);\n            existingPromise && existingPromise.resolve({\n                domain: domain\n            });\n            var newPromise = promise_ZalgoPromise.resolve({\n                domain: domain\n            });\n            helloPromises.set(win, newPromise);\n            return newPromise;\n        }\n        function sayHello(win, _ref4) {\n            return (0, _ref4.send)(win, \"postrobot_hello\", {\n                instanceID: getInstanceID()\n            }, {\n                domain: \"*\",\n                timeout: -1\n            }).then((function(_ref5) {\n                var origin = _ref5.origin, instanceID = _ref5.data.instanceID;\n                resolveHelloPromise(win, {\n                    domain: origin\n                });\n                return {\n                    win: win,\n                    domain: origin,\n                    instanceID: instanceID\n                };\n            }));\n        }\n        function getWindowInstanceID(win, _ref6) {\n            var send = _ref6.send;\n            return windowStore(\"windowInstanceIDPromises\").getOrSet(win, (function() {\n                return sayHello(win, {\n                    send: send\n                }).then((function(_ref7) {\n                    return _ref7.instanceID;\n                }));\n            }));\n        }\n        function markWindowKnown(win) {\n            windowStore(\"knownWindows\").set(win, !0);\n        }\n        function isSerializedType(item) {\n            return \"object\" == typeof item && null !== item && \"string\" == typeof item.__type__;\n        }\n        function determineType(val) {\n            return void 0 === val ? \"undefined\" : null === val ? \"null\" : Array.isArray(val) ? \"array\" : \"function\" == typeof val ? \"function\" : \"object\" == typeof val ? val instanceof Error ? \"error\" : \"function\" == typeof val.then ? \"promise\" : \"[object RegExp]\" === {}.toString.call(val) ? \"regex\" : \"[object Date]\" === {}.toString.call(val) ? \"date\" : \"object\" : \"string\" == typeof val ? \"string\" : \"number\" == typeof val ? \"number\" : \"boolean\" == typeof val ? \"boolean\" : void 0;\n        }\n        function serializeType(type, val) {\n            return {\n                __type__: type,\n                __val__: val\n            };\n        }\n        var _SERIALIZER;\n        var SERIALIZER = ((_SERIALIZER = {}).function = function() {}, _SERIALIZER.error = function(_ref) {\n            return serializeType(\"error\", {\n                message: _ref.message,\n                stack: _ref.stack,\n                code: _ref.code,\n                data: _ref.data\n            });\n        }, _SERIALIZER.promise = function() {}, _SERIALIZER.regex = function(val) {\n            return serializeType(\"regex\", val.source);\n        }, _SERIALIZER.date = function(val) {\n            return serializeType(\"date\", val.toJSON());\n        }, _SERIALIZER.array = function(val) {\n            return val;\n        }, _SERIALIZER.object = function(val) {\n            return val;\n        }, _SERIALIZER.string = function(val) {\n            return val;\n        }, _SERIALIZER.number = function(val) {\n            return val;\n        }, _SERIALIZER.boolean = function(val) {\n            return val;\n        }, _SERIALIZER.null = function(val) {\n            return val;\n        }, _SERIALIZER);\n        var defaultSerializers = {};\n        var _DESERIALIZER;\n        var DESERIALIZER = ((_DESERIALIZER = {}).function = function() {\n            throw new Error(\"Function serialization is not implemented; nothing to deserialize\");\n        }, _DESERIALIZER.error = function(_ref2) {\n            var stack = _ref2.stack, code = _ref2.code, data = _ref2.data;\n            var error = new Error(_ref2.message);\n            error.code = code;\n            data && (error.data = data);\n            error.stack = stack + \"\\n\\n\" + error.stack;\n            return error;\n        }, _DESERIALIZER.promise = function() {\n            throw new Error(\"Promise serialization is not implemented; nothing to deserialize\");\n        }, _DESERIALIZER.regex = function(val) {\n            return new RegExp(val);\n        }, _DESERIALIZER.date = function(val) {\n            return new Date(val);\n        }, _DESERIALIZER.array = function(val) {\n            return val;\n        }, _DESERIALIZER.object = function(val) {\n            return val;\n        }, _DESERIALIZER.string = function(val) {\n            return val;\n        }, _DESERIALIZER.number = function(val) {\n            return val;\n        }, _DESERIALIZER.boolean = function(val) {\n            return val;\n        }, _DESERIALIZER.null = function(val) {\n            return val;\n        }, _DESERIALIZER);\n        var defaultDeserializers = {};\n        new promise_ZalgoPromise((function(resolve) {\n            if (window.document && window.document.body) return resolve(window.document.body);\n            var interval = setInterval((function() {\n                if (window.document && window.document.body) {\n                    clearInterval(interval);\n                    return resolve(window.document.body);\n                }\n            }), 10);\n        }));\n        function cleanupProxyWindows() {\n            var idToProxyWindow = globalStore(\"idToProxyWindow\");\n            for (var _i2 = 0, _idToProxyWindow$keys2 = idToProxyWindow.keys(); _i2 < _idToProxyWindow$keys2.length; _i2++) {\n                var id = _idToProxyWindow$keys2[_i2];\n                idToProxyWindow.get(id).shouldClean() && idToProxyWindow.del(id);\n            }\n        }\n        function getSerializedWindow(winPromise, _ref) {\n            var send = _ref.send, _ref$id = _ref.id, id = void 0 === _ref$id ? uniqueID() : _ref$id;\n            var windowNamePromise = winPromise.then((function(win) {\n                if (isSameDomain(win)) return assertSameDomain(win).name;\n            }));\n            var windowTypePromise = winPromise.then((function(window) {\n                if (isWindowClosed(window)) throw new Error(\"Window is closed, can not determine type\");\n                return getOpener(window) ? \"popup\" : \"iframe\";\n            }));\n            windowNamePromise.catch(src_util_noop);\n            windowTypePromise.catch(src_util_noop);\n            return {\n                id: id,\n                getType: function() {\n                    return windowTypePromise;\n                },\n                getInstanceID: memoizePromise((function() {\n                    return winPromise.then((function(win) {\n                        return getWindowInstanceID(win, {\n                            send: send\n                        });\n                    }));\n                })),\n                close: function() {\n                    return winPromise.then(closeWindow);\n                },\n                getName: function() {\n                    return winPromise.then((function(win) {\n                        if (!isWindowClosed(win)) return isSameDomain(win) ? assertSameDomain(win).name : windowNamePromise;\n                    }));\n                },\n                focus: function() {\n                    return winPromise.then((function(win) {\n                        win.focus();\n                    }));\n                },\n                isClosed: function() {\n                    return winPromise.then((function(win) {\n                        return isWindowClosed(win);\n                    }));\n                },\n                setLocation: function(href) {\n                    return winPromise.then((function(win) {\n                        var domain = window.location.protocol + \"//\" + window.location.host;\n                        if (0 === href.indexOf(\"/\")) href = \"\" + domain + href; else if (!href.match(/^https?:\\/\\//) && 0 !== href.indexOf(domain)) throw new Error(\"Expected url to be http or https url, or absolute path, got \" + JSON.stringify(href));\n                        if (isSameDomain(win)) try {\n                            if (win.location && \"function\" == typeof win.location.replace) {\n                                win.location.replace(href);\n                                return;\n                            }\n                        } catch (err) {}\n                        win.location = href;\n                    }));\n                },\n                setName: function(name) {\n                    return winPromise.then((function(win) {\n                        var sameDomain = isSameDomain(win);\n                        var frame = function(win) {\n                            if (isSameDomain(win)) return assertSameDomain(win).frameElement;\n                            for (var _i21 = 0, _document$querySelect2 = document.querySelectorAll(\"iframe\"); _i21 < _document$querySelect2.length; _i21++) {\n                                var frame = _document$querySelect2[_i21];\n                                if (frame && frame.contentWindow && frame.contentWindow === win) return frame;\n                            }\n                        }(win);\n                        if (!sameDomain) throw new Error(\"Can not set name for cross-domain window: \" + name);\n                        assertSameDomain(win).name = name;\n                        frame && frame.setAttribute(\"name\", name);\n                        windowNamePromise = promise_ZalgoPromise.resolve(name);\n                    }));\n                }\n            };\n        }\n        var window_ProxyWindow = function() {\n            function ProxyWindow(_ref2) {\n                var send = _ref2.send, win = _ref2.win, serializedWindow = _ref2.serializedWindow;\n                this.id = void 0;\n                this.isProxyWindow = !0;\n                this.serializedWindow = void 0;\n                this.actualWindow = void 0;\n                this.actualWindowPromise = void 0;\n                this.send = void 0;\n                this.name = void 0;\n                this.actualWindowPromise = new promise_ZalgoPromise;\n                this.serializedWindow = serializedWindow || getSerializedWindow(this.actualWindowPromise, {\n                    send: send\n                });\n                globalStore(\"idToProxyWindow\").set(this.getID(), this);\n                win && this.setWindow(win, {\n                    send: send\n                });\n            }\n            var _proto = ProxyWindow.prototype;\n            _proto.getID = function() {\n                return this.serializedWindow.id;\n            };\n            _proto.getType = function() {\n                return this.serializedWindow.getType();\n            };\n            _proto.isPopup = function() {\n                return this.getType().then((function(type) {\n                    return \"popup\" === type;\n                }));\n            };\n            _proto.setLocation = function(href) {\n                var _this = this;\n                return this.serializedWindow.setLocation(href).then((function() {\n                    return _this;\n                }));\n            };\n            _proto.getName = function() {\n                return this.serializedWindow.getName();\n            };\n            _proto.setName = function(name) {\n                var _this2 = this;\n                return this.serializedWindow.setName(name).then((function() {\n                    return _this2;\n                }));\n            };\n            _proto.close = function() {\n                var _this3 = this;\n                return this.serializedWindow.close().then((function() {\n                    return _this3;\n                }));\n            };\n            _proto.focus = function() {\n                var _this4 = this;\n                var isPopupPromise = this.isPopup();\n                var getNamePromise = this.getName();\n                var reopenPromise = promise_ZalgoPromise.hash({\n                    isPopup: isPopupPromise,\n                    name: getNamePromise\n                }).then((function(_ref3) {\n                    var name = _ref3.name;\n                    _ref3.isPopup && name && window.open(\"\", name);\n                }));\n                var focusPromise = this.serializedWindow.focus();\n                return promise_ZalgoPromise.all([ reopenPromise, focusPromise ]).then((function() {\n                    return _this4;\n                }));\n            };\n            _proto.isClosed = function() {\n                return this.serializedWindow.isClosed();\n            };\n            _proto.getWindow = function() {\n                return this.actualWindow;\n            };\n            _proto.setWindow = function(win, _ref4) {\n                var send = _ref4.send;\n                this.actualWindow = win;\n                this.actualWindowPromise.resolve(this.actualWindow);\n                this.serializedWindow = getSerializedWindow(this.actualWindowPromise, {\n                    send: send,\n                    id: this.getID()\n                });\n                windowStore(\"winToProxyWindow\").set(win, this);\n            };\n            _proto.awaitWindow = function() {\n                return this.actualWindowPromise;\n            };\n            _proto.matchWindow = function(win, _ref5) {\n                var _this5 = this;\n                var send = _ref5.send;\n                return promise_ZalgoPromise.try((function() {\n                    return _this5.actualWindow ? win === _this5.actualWindow : promise_ZalgoPromise.hash({\n                        proxyInstanceID: _this5.getInstanceID(),\n                        knownWindowInstanceID: getWindowInstanceID(win, {\n                            send: send\n                        })\n                    }).then((function(_ref6) {\n                        var match = _ref6.proxyInstanceID === _ref6.knownWindowInstanceID;\n                        match && _this5.setWindow(win, {\n                            send: send\n                        });\n                        return match;\n                    }));\n                }));\n            };\n            _proto.unwrap = function() {\n                return this.actualWindow || this;\n            };\n            _proto.getInstanceID = function() {\n                return this.serializedWindow.getInstanceID();\n            };\n            _proto.shouldClean = function() {\n                return Boolean(this.actualWindow && isWindowClosed(this.actualWindow));\n            };\n            _proto.serialize = function() {\n                return this.serializedWindow;\n            };\n            ProxyWindow.unwrap = function(win) {\n                return ProxyWindow.isProxyWindow(win) ? win.unwrap() : win;\n            };\n            ProxyWindow.serialize = function(win, _ref7) {\n                var send = _ref7.send;\n                cleanupProxyWindows();\n                return ProxyWindow.toProxyWindow(win, {\n                    send: send\n                }).serialize();\n            };\n            ProxyWindow.deserialize = function(serializedWindow, _ref8) {\n                var send = _ref8.send;\n                cleanupProxyWindows();\n                return globalStore(\"idToProxyWindow\").get(serializedWindow.id) || new ProxyWindow({\n                    serializedWindow: serializedWindow,\n                    send: send\n                });\n            };\n            ProxyWindow.isProxyWindow = function(obj) {\n                return Boolean(obj && !isWindow(obj) && obj.isProxyWindow);\n            };\n            ProxyWindow.toProxyWindow = function(win, _ref9) {\n                var send = _ref9.send;\n                cleanupProxyWindows();\n                if (ProxyWindow.isProxyWindow(win)) return win;\n                var actualWindow = win;\n                return windowStore(\"winToProxyWindow\").get(actualWindow) || new ProxyWindow({\n                    win: actualWindow,\n                    send: send\n                });\n            };\n            return ProxyWindow;\n        }();\n        function addMethod(id, val, name, source, domain) {\n            var methodStore = windowStore(\"methodStore\");\n            var proxyWindowMethods = globalStore(\"proxyWindowMethods\");\n            if (window_ProxyWindow.isProxyWindow(source)) proxyWindowMethods.set(id, {\n                val: val,\n                name: name,\n                domain: domain,\n                source: source\n            }); else {\n                proxyWindowMethods.del(id);\n                methodStore.getOrSet(source, (function() {\n                    return {};\n                }))[id] = {\n                    domain: domain,\n                    name: name,\n                    val: val,\n                    source: source\n                };\n            }\n        }\n        function lookupMethod(source, id) {\n            var methodStore = windowStore(\"methodStore\");\n            var proxyWindowMethods = globalStore(\"proxyWindowMethods\");\n            return methodStore.getOrSet(source, (function() {\n                return {};\n            }))[id] || proxyWindowMethods.get(id);\n        }\n        function function_serializeFunction(destination, domain, val, key, _ref3) {\n            on = (_ref = {\n                on: _ref3.on,\n                send: _ref3.send\n            }).on, send = _ref.send, globalStore(\"builtinListeners\").getOrSet(\"functionCalls\", (function() {\n                return on(\"postrobot_method\", {\n                    domain: \"*\"\n                }, (function(_ref2) {\n                    var source = _ref2.source, origin = _ref2.origin, data = _ref2.data;\n                    var id = data.id, name = data.name;\n                    var meth = lookupMethod(source, id);\n                    if (!meth) throw new Error(\"Could not find method '\" + name + \"' with id: \" + data.id + \" in \" + getDomain(window));\n                    var methodSource = meth.source, domain = meth.domain, val = meth.val;\n                    return promise_ZalgoPromise.try((function() {\n                        if (!matchDomain(domain, origin)) throw new Error(\"Method '\" + data.name + \"' domain \" + JSON.stringify(util_isRegex(meth.domain) ? meth.domain.source : meth.domain) + \" does not match origin \" + origin + \" in \" + getDomain(window));\n                        if (window_ProxyWindow.isProxyWindow(methodSource)) return methodSource.matchWindow(source, {\n                            send: send\n                        }).then((function(match) {\n                            if (!match) throw new Error(\"Method call '\" + data.name + \"' failed - proxy window does not match source in \" + getDomain(window));\n                        }));\n                    })).then((function() {\n                        return val.apply({\n                            source: source,\n                            origin: origin\n                        }, data.args);\n                    }), (function(err) {\n                        return promise_ZalgoPromise.try((function() {\n                            if (val.onError) return val.onError(err);\n                        })).then((function() {\n                            err.stack && (err.stack = \"Remote call to \" + name + \"(\" + function(args) {\n                                void 0 === args && (args = []);\n                                return (item = args, [].slice.call(item)).map((function(arg) {\n                                    return \"string\" == typeof arg ? \"'\" + arg + \"'\" : void 0 === arg ? \"undefined\" : null === arg ? \"null\" : \"boolean\" == typeof arg ? arg.toString() : Array.isArray(arg) ? \"[ ... ]\" : \"object\" == typeof arg ? \"{ ... }\" : \"function\" == typeof arg ? \"() => { ... }\" : \"<\" + typeof arg + \">\";\n                                })).join(\", \");\n                                var item;\n                            }(data.args) + \") failed\\n\\n\" + err.stack);\n                            throw err;\n                        }));\n                    })).then((function(result) {\n                        return {\n                            result: result,\n                            id: id,\n                            name: name\n                        };\n                    }));\n                }));\n            }));\n            var _ref, on, send;\n            var id = val.__id__ || uniqueID();\n            destination = window_ProxyWindow.unwrap(destination);\n            var name = val.__name__ || val.name || key;\n            \"string\" == typeof name && \"function\" == typeof name.indexOf && 0 === name.indexOf(\"anonymous::\") && (name = name.replace(\"anonymous::\", key + \"::\"));\n            if (window_ProxyWindow.isProxyWindow(destination)) {\n                addMethod(id, val, name, destination, domain);\n                destination.awaitWindow().then((function(win) {\n                    addMethod(id, val, name, win, domain);\n                }));\n            } else addMethod(id, val, name, destination, domain);\n            return serializeType(\"cross_domain_function\", {\n                id: id,\n                name: name\n            });\n        }\n        function serializeMessage(destination, domain, obj, _ref) {\n            var _serialize;\n            var on = _ref.on, send = _ref.send;\n            return function(obj, serializers) {\n                void 0 === serializers && (serializers = defaultSerializers);\n                var result = JSON.stringify(obj, (function(key) {\n                    var val = this[key];\n                    if (isSerializedType(this)) return val;\n                    var type = determineType(val);\n                    if (!type) return val;\n                    var serializer = serializers[type] || SERIALIZER[type];\n                    return serializer ? serializer(val, key) : val;\n                }));\n                return void 0 === result ? \"undefined\" : result;\n            }(obj, ((_serialize = {}).promise = function(val, key) {\n                return function(destination, domain, val, key, _ref) {\n                    return serializeType(\"cross_domain_zalgo_promise\", {\n                        then: function_serializeFunction(destination, domain, (function(resolve, reject) {\n                            return val.then(resolve, reject);\n                        }), key, {\n                            on: _ref.on,\n                            send: _ref.send\n                        })\n                    });\n                }(destination, domain, val, key, {\n                    on: on,\n                    send: send\n                });\n            }, _serialize.function = function(val, key) {\n                return function_serializeFunction(destination, domain, val, key, {\n                    on: on,\n                    send: send\n                });\n            }, _serialize.object = function(val) {\n                return isWindow(val) || window_ProxyWindow.isProxyWindow(val) ? serializeType(\"cross_domain_window\", window_ProxyWindow.serialize(val, {\n                    send: send\n                })) : val;\n            }, _serialize));\n        }\n        function deserializeMessage(source, origin, message, _ref2) {\n            var _deserialize;\n            var send = _ref2.send;\n            return function(str, deserializers) {\n                void 0 === deserializers && (deserializers = defaultDeserializers);\n                if (\"undefined\" !== str) return JSON.parse(str, (function(key, val) {\n                    if (isSerializedType(this)) return val;\n                    var type;\n                    var value;\n                    if (isSerializedType(val)) {\n                        type = val.__type__;\n                        value = val.__val__;\n                    } else {\n                        type = determineType(val);\n                        value = val;\n                    }\n                    if (!type) return value;\n                    var deserializer = deserializers[type] || DESERIALIZER[type];\n                    return deserializer ? deserializer(value, key) : value;\n                }));\n            }(message, ((_deserialize = {}).cross_domain_zalgo_promise = function(serializedPromise) {\n                return function(source, origin, _ref2) {\n                    return new promise_ZalgoPromise(_ref2.then);\n                }(0, 0, serializedPromise);\n            }, _deserialize.cross_domain_function = function(serializedFunction) {\n                return function(source, origin, _ref4, _ref5) {\n                    var id = _ref4.id, name = _ref4.name;\n                    var send = _ref5.send;\n                    var getDeserializedFunction = function(opts) {\n                        void 0 === opts && (opts = {});\n                        function crossDomainFunctionWrapper() {\n                            var _arguments = arguments;\n                            return window_ProxyWindow.toProxyWindow(source, {\n                                send: send\n                            }).awaitWindow().then((function(win) {\n                                var meth = lookupMethod(win, id);\n                                if (meth && meth.val !== crossDomainFunctionWrapper) return meth.val.apply({\n                                    source: window,\n                                    origin: getDomain()\n                                }, _arguments);\n                                var _args = [].slice.call(_arguments);\n                                return opts.fireAndForget ? send(win, \"postrobot_method\", {\n                                    id: id,\n                                    name: name,\n                                    args: _args\n                                }, {\n                                    domain: origin,\n                                    fireAndForget: !0\n                                }) : send(win, \"postrobot_method\", {\n                                    id: id,\n                                    name: name,\n                                    args: _args\n                                }, {\n                                    domain: origin,\n                                    fireAndForget: !1\n                                }).then((function(res) {\n                                    return res.data.result;\n                                }));\n                            })).catch((function(err) {\n                                throw err;\n                            }));\n                        }\n                        crossDomainFunctionWrapper.__name__ = name;\n                        crossDomainFunctionWrapper.__origin__ = origin;\n                        crossDomainFunctionWrapper.__source__ = source;\n                        crossDomainFunctionWrapper.__id__ = id;\n                        crossDomainFunctionWrapper.origin = origin;\n                        return crossDomainFunctionWrapper;\n                    };\n                    var crossDomainFunctionWrapper = getDeserializedFunction();\n                    crossDomainFunctionWrapper.fireAndForget = getDeserializedFunction({\n                        fireAndForget: !0\n                    });\n                    return crossDomainFunctionWrapper;\n                }(source, origin, serializedFunction, {\n                    send: send\n                });\n            }, _deserialize.cross_domain_window = function(serializedWindow) {\n                return window_ProxyWindow.deserialize(serializedWindow, {\n                    send: send\n                });\n            }, _deserialize));\n        }\n        var SEND_MESSAGE_STRATEGIES = {};\n        SEND_MESSAGE_STRATEGIES.postrobot_post_message = function(win, serializedMessage, domain) {\n            0 === domain.indexOf(\"file:\") && (domain = \"*\");\n            win.postMessage(serializedMessage, domain);\n        };\n        function send_sendMessage(win, domain, message, _ref2) {\n            var on = _ref2.on, send = _ref2.send;\n            return promise_ZalgoPromise.try((function() {\n                var domainBuffer = windowStore().getOrSet(win, (function() {\n                    return {};\n                }));\n                domainBuffer.buffer = domainBuffer.buffer || [];\n                domainBuffer.buffer.push(message);\n                domainBuffer.flush = domainBuffer.flush || promise_ZalgoPromise.flush().then((function() {\n                    if (isWindowClosed(win)) throw new Error(\"Window is closed\");\n                    var serializedMessage = serializeMessage(win, domain, ((_ref = {}).__post_robot_10_0_39__ = domainBuffer.buffer || [], \n                    _ref), {\n                        on: on,\n                        send: send\n                    });\n                    var _ref;\n                    delete domainBuffer.buffer;\n                    var strategies = Object.keys(SEND_MESSAGE_STRATEGIES);\n                    var errors = [];\n                    for (var _i2 = 0; _i2 < strategies.length; _i2++) {\n                        var strategyName = strategies[_i2];\n                        try {\n                            SEND_MESSAGE_STRATEGIES[strategyName](win, serializedMessage, domain);\n                        } catch (err) {\n                            errors.push(err);\n                        }\n                    }\n                    if (errors.length === strategies.length) throw new Error(\"All post-robot messaging strategies failed:\\n\\n\" + errors.map((function(err, i) {\n                        return i + \". \" + stringifyError(err);\n                    })).join(\"\\n\\n\"));\n                }));\n                return domainBuffer.flush.then((function() {\n                    delete domainBuffer.flush;\n                }));\n            })).then(src_util_noop);\n        }\n        function getResponseListener(hash) {\n            return globalStore(\"responseListeners\").get(hash);\n        }\n        function deleteResponseListener(hash) {\n            globalStore(\"responseListeners\").del(hash);\n        }\n        function isResponseListenerErrored(hash) {\n            return globalStore(\"erroredResponseListeners\").has(hash);\n        }\n        function getRequestListener(_ref) {\n            var name = _ref.name, win = _ref.win, domain = _ref.domain;\n            var requestListeners = windowStore(\"requestListeners\");\n            \"*\" === win && (win = null);\n            \"*\" === domain && (domain = null);\n            if (!name) throw new Error(\"Name required to get request listener\");\n            for (var _i4 = 0, _ref3 = [ win, getWildcard() ]; _i4 < _ref3.length; _i4++) {\n                var winQualifier = _ref3[_i4];\n                if (winQualifier) {\n                    var nameListeners = requestListeners.get(winQualifier);\n                    if (nameListeners) {\n                        var domainListeners = nameListeners[name];\n                        if (domainListeners) {\n                            if (domain && \"string\" == typeof domain) {\n                                if (domainListeners[domain]) return domainListeners[domain];\n                                if (domainListeners.__domain_regex__) for (var _i6 = 0, _domainListeners$__DO2 = domainListeners.__domain_regex__; _i6 < _domainListeners$__DO2.length; _i6++) {\n                                    var _domainListeners$__DO3 = _domainListeners$__DO2[_i6], listener = _domainListeners$__DO3.listener;\n                                    if (matchDomain(_domainListeners$__DO3.regex, domain)) return listener;\n                                }\n                            }\n                            if (domainListeners[\"*\"]) return domainListeners[\"*\"];\n                        }\n                    }\n                }\n            }\n        }\n        var _RECEIVE_MESSAGE_TYPE;\n        var RECEIVE_MESSAGE_TYPES = ((_RECEIVE_MESSAGE_TYPE = {}).postrobot_message_request = function(source, origin, message, _ref) {\n            var on = _ref.on, send = _ref.send;\n            var options = getRequestListener({\n                name: message.name,\n                win: source,\n                domain: origin\n            });\n            var logName = \"postrobot_method\" === message.name && message.data && \"string\" == typeof message.data.name ? message.data.name + \"()\" : message.name;\n            function sendResponse(ack, data, error) {\n                return promise_ZalgoPromise.flush().then((function() {\n                    if (!message.fireAndForget && !isWindowClosed(source)) try {\n                        return send_sendMessage(source, origin, {\n                            id: uniqueID(),\n                            origin: getDomain(window),\n                            type: \"postrobot_message_response\",\n                            hash: message.hash,\n                            name: message.name,\n                            ack: ack,\n                            data: data,\n                            error: error\n                        }, {\n                            on: on,\n                            send: send\n                        });\n                    } catch (err) {\n                        throw new Error(\"Send response message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                    }\n                }));\n            }\n            return promise_ZalgoPromise.all([ promise_ZalgoPromise.flush().then((function() {\n                if (!message.fireAndForget && !isWindowClosed(source)) try {\n                    return send_sendMessage(source, origin, {\n                        id: uniqueID(),\n                        origin: getDomain(window),\n                        type: \"postrobot_message_ack\",\n                        hash: message.hash,\n                        name: message.name\n                    }, {\n                        on: on,\n                        send: send\n                    });\n                } catch (err) {\n                    throw new Error(\"Send ack message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                }\n            })), promise_ZalgoPromise.try((function() {\n                if (!options) throw new Error(\"No handler found for post message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                if (!matchDomain(options.domain, origin)) throw new Error(\"Request origin \" + origin + \" does not match domain \" + options.domain.toString());\n                return options.handler({\n                    source: source,\n                    origin: origin,\n                    data: message.data\n                });\n            })).then((function(data) {\n                return sendResponse(\"success\", data);\n            }), (function(error) {\n                return sendResponse(\"error\", null, error);\n            })) ]).then(src_util_noop).catch((function(err) {\n                if (options && options.handleError) return options.handleError(err);\n                throw err;\n            }));\n        }, _RECEIVE_MESSAGE_TYPE.postrobot_message_ack = function(source, origin, message) {\n            if (!isResponseListenerErrored(message.hash)) {\n                var options = getResponseListener(message.hash);\n                if (!options) throw new Error(\"No handler found for post message ack for message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                try {\n                    if (!matchDomain(options.domain, origin)) throw new Error(\"Ack origin \" + origin + \" does not match domain \" + options.domain.toString());\n                    if (source !== options.win) throw new Error(\"Ack source does not match registered window\");\n                } catch (err) {\n                    options.promise.reject(err);\n                }\n                options.ack = !0;\n            }\n        }, _RECEIVE_MESSAGE_TYPE.postrobot_message_response = function(source, origin, message) {\n            if (!isResponseListenerErrored(message.hash)) {\n                var options = getResponseListener(message.hash);\n                if (!options) throw new Error(\"No handler found for post message response for message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                if (!matchDomain(options.domain, origin)) throw new Error(\"Response origin \" + origin + \" does not match domain \" + (pattern = options.domain, \n                Array.isArray(pattern) ? \"(\" + pattern.join(\" | \") + \")\" : isRegex(pattern) ? \"RegExp(\" + pattern.toString() : pattern.toString()));\n                var pattern;\n                if (source !== options.win) throw new Error(\"Response source does not match registered window\");\n                deleteResponseListener(message.hash);\n                \"error\" === message.ack ? options.promise.reject(message.error) : \"success\" === message.ack && options.promise.resolve({\n                    source: source,\n                    origin: origin,\n                    data: message.data\n                });\n            }\n        }, _RECEIVE_MESSAGE_TYPE);\n        function receive_receiveMessage(event, _ref2) {\n            var on = _ref2.on, send = _ref2.send;\n            var receivedMessages = globalStore(\"receivedMessages\");\n            try {\n                if (!window || window.closed || !event.source) return;\n            } catch (err) {\n                return;\n            }\n            var source = event.source, origin = event.origin;\n            var messages = function(message, source, origin, _ref) {\n                var on = _ref.on, send = _ref.send;\n                var parsedMessage;\n                try {\n                    parsedMessage = deserializeMessage(source, origin, message, {\n                        on: on,\n                        send: send\n                    });\n                } catch (err) {\n                    return;\n                }\n                if (parsedMessage && \"object\" == typeof parsedMessage && null !== parsedMessage) {\n                    var parseMessages = parsedMessage.__post_robot_10_0_39__;\n                    if (Array.isArray(parseMessages)) return parseMessages;\n                }\n            }(event.data, source, origin, {\n                on: on,\n                send: send\n            });\n            if (messages) {\n                markWindowKnown(source);\n                for (var _i2 = 0; _i2 < messages.length; _i2++) {\n                    var message = messages[_i2];\n                    if (receivedMessages.has(message.id)) return;\n                    receivedMessages.set(message.id, !0);\n                    if (isWindowClosed(source) && !message.fireAndForget) return;\n                    0 === message.origin.indexOf(\"file:\") && (origin = \"file://\");\n                    try {\n                        \"postrobot_message_request\" === message.type ? RECEIVE_MESSAGE_TYPES.postrobot_message_request(source, origin, message, {\n                            on: on,\n                            send: send\n                        }) : \"postrobot_message_response\" === message.type ? RECEIVE_MESSAGE_TYPES.postrobot_message_response(source, origin, message) : \"postrobot_message_ack\" === message.type && RECEIVE_MESSAGE_TYPES.postrobot_message_ack(source, origin, message);\n                    } catch (err) {\n                        setTimeout((function() {\n                            throw err;\n                        }), 0);\n                    }\n                }\n            }\n        }\n        function on_on(name, options, handler) {\n            if (!name) throw new Error(\"Expected name\");\n            if (\"function\" == typeof (options = options || {})) {\n                handler = options;\n                options = {};\n            }\n            if (!handler) throw new Error(\"Expected handler\");\n            (options = options || {}).name = name;\n            options.handler = handler || options.handler;\n            var win = options.window;\n            var domain = options.domain;\n            var requestListener = function addRequestListener(_ref4, listener) {\n                var name = _ref4.name, win = _ref4.win, domain = _ref4.domain;\n                var requestListeners = windowStore(\"requestListeners\");\n                if (!name || \"string\" != typeof name) throw new Error(\"Name required to add request listener\");\n                if (Array.isArray(win)) {\n                    var listenersCollection = [];\n                    for (var _i8 = 0, _win2 = win; _i8 < _win2.length; _i8++) listenersCollection.push(addRequestListener({\n                        name: name,\n                        domain: domain,\n                        win: _win2[_i8]\n                    }, listener));\n                    return {\n                        cancel: function() {\n                            for (var _i10 = 0; _i10 < listenersCollection.length; _i10++) listenersCollection[_i10].cancel();\n                        }\n                    };\n                }\n                if (Array.isArray(domain)) {\n                    var _listenersCollection = [];\n                    for (var _i12 = 0, _domain2 = domain; _i12 < _domain2.length; _i12++) _listenersCollection.push(addRequestListener({\n                        name: name,\n                        win: win,\n                        domain: _domain2[_i12]\n                    }, listener));\n                    return {\n                        cancel: function() {\n                            for (var _i14 = 0; _i14 < _listenersCollection.length; _i14++) _listenersCollection[_i14].cancel();\n                        }\n                    };\n                }\n                var existingListener = getRequestListener({\n                    name: name,\n                    win: win,\n                    domain: domain\n                });\n                win && \"*\" !== win || (win = getWildcard());\n                domain = domain || \"*\";\n                if (existingListener) throw win && domain ? new Error(\"Request listener already exists for \" + name + \" on domain \" + domain.toString() + \" for \" + (win === getWildcard() ? \"wildcard\" : \"specified\") + \" window\") : win ? new Error(\"Request listener already exists for \" + name + \" for \" + (win === getWildcard() ? \"wildcard\" : \"specified\") + \" window\") : domain ? new Error(\"Request listener already exists for \" + name + \" on domain \" + domain.toString()) : new Error(\"Request listener already exists for \" + name);\n                var nameListeners = requestListeners.getOrSet(win, (function() {\n                    return {};\n                }));\n                var domainListeners = util_getOrSet(nameListeners, name, (function() {\n                    return {};\n                }));\n                var strDomain = domain.toString();\n                var regexListeners;\n                var regexListener;\n                util_isRegex(domain) ? (regexListeners = util_getOrSet(domainListeners, \"__domain_regex__\", (function() {\n                    return [];\n                }))).push(regexListener = {\n                    regex: domain,\n                    listener: listener\n                }) : domainListeners[strDomain] = listener;\n                return {\n                    cancel: function() {\n                        delete domainListeners[strDomain];\n                        if (regexListener) {\n                            regexListeners.splice(regexListeners.indexOf(regexListener, 1));\n                            regexListeners.length || delete domainListeners.__domain_regex__;\n                        }\n                        Object.keys(domainListeners).length || delete nameListeners[name];\n                        win && !Object.keys(nameListeners).length && requestListeners.del(win);\n                    }\n                };\n            }({\n                name: name,\n                win: win,\n                domain: domain\n            }, {\n                handler: options.handler,\n                handleError: options.errorHandler || function(err) {\n                    throw err;\n                },\n                window: win,\n                domain: domain || \"*\",\n                name: name\n            });\n            return {\n                cancel: function() {\n                    requestListener.cancel();\n                }\n            };\n        }\n        function on_once(name, options, handler) {\n            if (\"function\" == typeof (options = options || {})) {\n                handler = options;\n                options = {};\n            }\n            var promise = new promise_ZalgoPromise;\n            var listener;\n            options.errorHandler = function(err) {\n                listener.cancel();\n                promise.reject(err);\n            };\n            listener = on_on(name, options, (function(event) {\n                listener.cancel();\n                promise.resolve(event);\n                if (handler) return handler(event);\n            }));\n            promise.cancel = listener.cancel;\n            return promise;\n        }\n        var send_send = function send(win, name, data, options) {\n            var domainMatcher = (options = options || {}).domain || \"*\";\n            var responseTimeout = options.timeout || -1;\n            var childTimeout = options.timeout || 5e3;\n            var fireAndForget = options.fireAndForget || !1;\n            return promise_ZalgoPromise.try((function() {\n                !function(name, win, domain) {\n                    if (!name) throw new Error(\"Expected name\");\n                    if (domain && \"string\" != typeof domain && !Array.isArray(domain) && !util_isRegex(domain)) throw new TypeError(\"Can not send \" + name + \". Expected domain \" + JSON.stringify(domain) + \" to be a string, array, or regex\");\n                    if (isWindowClosed(win)) throw new Error(\"Can not send \" + name + \". Target window is closed\");\n                }(name, win, domainMatcher);\n                if (function(parent, child) {\n                    var actualParent = getAncestor(child);\n                    if (actualParent) return actualParent === parent;\n                    if (child === parent) return !1;\n                    if (function(win) {\n                        void 0 === win && (win = window);\n                        try {\n                            if (win.top) return win.top;\n                        } catch (err) {}\n                        if (getParent(win) === win) return win;\n                        try {\n                            if (isAncestorParent(window, win) && window.top) return window.top;\n                        } catch (err) {}\n                        try {\n                            if (isAncestorParent(win, window) && window.top) return window.top;\n                        } catch (err) {}\n                        for (var _i7 = 0, _getAllChildFrames4 = function getAllChildFrames(win) {\n                            var result = [];\n                            for (var _i3 = 0, _getFrames2 = getFrames(win); _i3 < _getFrames2.length; _i3++) {\n                                var frame = _getFrames2[_i3];\n                                result.push(frame);\n                                for (var _i5 = 0, _getAllChildFrames2 = getAllChildFrames(frame); _i5 < _getAllChildFrames2.length; _i5++) result.push(_getAllChildFrames2[_i5]);\n                            }\n                            return result;\n                        }(win); _i7 < _getAllChildFrames4.length; _i7++) {\n                            var frame = _getAllChildFrames4[_i7];\n                            try {\n                                if (frame.top) return frame.top;\n                            } catch (err) {}\n                            if (getParent(frame) === frame) return frame;\n                        }\n                    }(child) === child) return !1;\n                    for (var _i15 = 0, _getFrames8 = getFrames(parent); _i15 < _getFrames8.length; _i15++) if (_getFrames8[_i15] === child) return !0;\n                    return !1;\n                }(window, win)) return function(win, timeout, name) {\n                    void 0 === timeout && (timeout = 5e3);\n                    void 0 === name && (name = \"Window\");\n                    var promise = function(win) {\n                        return windowStore(\"helloPromises\").getOrSet(win, (function() {\n                            return new promise_ZalgoPromise;\n                        }));\n                    }(win);\n                    -1 !== timeout && (promise = promise.timeout(timeout, new Error(name + \" did not load after \" + timeout + \"ms\")));\n                    return promise;\n                }(win, childTimeout);\n            })).then((function(_temp) {\n                return function(win, targetDomain, actualDomain, _ref) {\n                    var send = _ref.send;\n                    return promise_ZalgoPromise.try((function() {\n                        return \"string\" == typeof targetDomain ? targetDomain : promise_ZalgoPromise.try((function() {\n                            return actualDomain || sayHello(win, {\n                                send: send\n                            }).then((function(_ref2) {\n                                return _ref2.domain;\n                            }));\n                        })).then((function(normalizedDomain) {\n                            if (!matchDomain(targetDomain, targetDomain)) throw new Error(\"Domain \" + stringify(targetDomain) + \" does not match \" + stringify(targetDomain));\n                            return normalizedDomain;\n                        }));\n                    }));\n                }(win, domainMatcher, (void 0 === _temp ? {} : _temp).domain, {\n                    send: send\n                });\n            })).then((function(targetDomain) {\n                var domain = targetDomain;\n                var logName = \"postrobot_method\" === name && data && \"string\" == typeof data.name ? data.name + \"()\" : name;\n                var promise = new promise_ZalgoPromise;\n                var hash = name + \"_\" + uniqueID();\n                if (!fireAndForget) {\n                    var responseListener = {\n                        name: name,\n                        win: win,\n                        domain: domain,\n                        promise: promise\n                    };\n                    !function(hash, listener) {\n                        globalStore(\"responseListeners\").set(hash, listener);\n                    }(hash, responseListener);\n                    var reqPromises = windowStore(\"requestPromises\").getOrSet(win, (function() {\n                        return [];\n                    }));\n                    reqPromises.push(promise);\n                    promise.catch((function() {\n                        !function(hash) {\n                            globalStore(\"erroredResponseListeners\").set(hash, !0);\n                        }(hash);\n                        deleteResponseListener(hash);\n                    }));\n                    var totalAckTimeout = function(win) {\n                        return windowStore(\"knownWindows\").get(win, !1);\n                    }(win) ? 1e4 : 2e3;\n                    var totalResTimeout = responseTimeout;\n                    var ackTimeout = totalAckTimeout;\n                    var resTimeout = totalResTimeout;\n                    var interval = function(method, time) {\n                        var timeout;\n                        !function loop() {\n                            timeout = setTimeout((function() {\n                                !function() {\n                                    if (isWindowClosed(win)) return promise.reject(new Error(\"Window closed for \" + name + \" before \" + (responseListener.ack ? \"response\" : \"ack\")));\n                                    if (responseListener.cancelled) return promise.reject(new Error(\"Response listener was cancelled for \" + name));\n                                    ackTimeout = Math.max(ackTimeout - 500, 0);\n                                    -1 !== resTimeout && (resTimeout = Math.max(resTimeout - 500, 0));\n                                    responseListener.ack || 0 !== ackTimeout ? 0 === resTimeout && promise.reject(new Error(\"No response for postMessage \" + logName + \" in \" + getDomain() + \" in \" + totalResTimeout + \"ms\")) : promise.reject(new Error(\"No ack for postMessage \" + logName + \" in \" + getDomain() + \" in \" + totalAckTimeout + \"ms\"));\n                                }();\n                                loop();\n                            }), 500);\n                        }();\n                        return {\n                            cancel: function() {\n                                clearTimeout(timeout);\n                            }\n                        };\n                    }();\n                    promise.finally((function() {\n                        interval.cancel();\n                        reqPromises.splice(reqPromises.indexOf(promise, 1));\n                    })).catch(src_util_noop);\n                }\n                return send_sendMessage(win, domain, {\n                    id: uniqueID(),\n                    origin: getDomain(window),\n                    type: \"postrobot_message_request\",\n                    hash: hash,\n                    name: name,\n                    data: data,\n                    fireAndForget: fireAndForget\n                }, {\n                    on: on_on,\n                    send: send\n                }).then((function() {\n                    return fireAndForget ? promise.resolve() : promise;\n                }), (function(err) {\n                    throw new Error(\"Send request message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                }));\n            }));\n        };\n        function setup_serializeMessage(destination, domain, obj) {\n            return serializeMessage(destination, domain, obj, {\n                on: on_on,\n                send: send_send\n            });\n        }\n        function setup_deserializeMessage(source, origin, message) {\n            return deserializeMessage(source, origin, message, {\n                on: on_on,\n                send: send_send\n            });\n        }\n        function createProxyWindow(win) {\n            return new window_ProxyWindow({\n                send: send_send,\n                win: win\n            });\n        }\n        function setup_toProxyWindow(win) {\n            return window_ProxyWindow.toProxyWindow(win, {\n                send: send_send\n            });\n        }\n        function setup() {\n            if (!global_getGlobal().initialized) {\n                global_getGlobal().initialized = !0;\n                on = (_ref3 = {\n                    on: on_on,\n                    send: send_send\n                }).on, send = _ref3.send, (global = global_getGlobal()).receiveMessage = global.receiveMessage || function(message) {\n                    return receive_receiveMessage(message, {\n                        on: on,\n                        send: send\n                    });\n                };\n                !function(_ref5) {\n                    var on = _ref5.on, send = _ref5.send;\n                    globalStore().getOrSet(\"postMessageListener\", (function() {\n                        return function(obj, event, handler) {\n                            obj.addEventListener(\"message\", handler);\n                            return {\n                                cancel: function() {\n                                    obj.removeEventListener(\"message\", handler);\n                                }\n                            };\n                        }(window, 0, (function(event) {\n                            !function(event, _ref4) {\n                                var on = _ref4.on, send = _ref4.send;\n                                promise_ZalgoPromise.try((function() {\n                                    var source = event.source || event.sourceElement;\n                                    var origin = event.origin || event.originalEvent && event.originalEvent.origin;\n                                    var data = event.data;\n                                    \"null\" === origin && (origin = \"file://\");\n                                    if (source) {\n                                        if (!origin) throw new Error(\"Post message did not have origin domain\");\n                                        receive_receiveMessage({\n                                            source: source,\n                                            origin: origin,\n                                            data: data\n                                        }, {\n                                            on: on,\n                                            send: send\n                                        });\n                                    }\n                                }));\n                            }(event, {\n                                on: on,\n                                send: send\n                            });\n                        }));\n                    }));\n                }({\n                    on: on_on,\n                    send: send_send\n                });\n                !function(_ref8) {\n                    var on = _ref8.on, send = _ref8.send;\n                    globalStore(\"builtinListeners\").getOrSet(\"helloListener\", (function() {\n                        var listener = on(\"postrobot_hello\", {\n                            domain: \"*\"\n                        }, (function(_ref3) {\n                            resolveHelloPromise(_ref3.source, {\n                                domain: _ref3.origin\n                            });\n                            return {\n                                instanceID: getInstanceID()\n                            };\n                        }));\n                        var parent = getAncestor();\n                        parent && sayHello(parent, {\n                            send: send\n                        }).catch((function(err) {}));\n                        return listener;\n                    }));\n                }({\n                    on: on_on,\n                    send: send_send\n                });\n            }\n            var _ref3, on, send, global;\n        }\n        function destroy() {\n            !function() {\n                var responseListeners = globalStore(\"responseListeners\");\n                for (var _i2 = 0, _responseListeners$ke2 = responseListeners.keys(); _i2 < _responseListeners$ke2.length; _i2++) {\n                    var hash = _responseListeners$ke2[_i2];\n                    var listener = responseListeners.get(hash);\n                    listener && (listener.cancelled = !0);\n                    responseListeners.del(hash);\n                }\n            }();\n            (listener = globalStore().get(\"postMessageListener\")) && listener.cancel();\n            var listener;\n            delete window.__post_robot_10_0_39__;\n        }\n        var src_types_TYPES_0 = !0;\n        function cleanUpWindow(win) {\n            for (var _i2 = 0, _requestPromises$get2 = windowStore(\"requestPromises\").get(win, []); _i2 < _requestPromises$get2.length; _i2++) _requestPromises$get2[_i2].reject(new Error(\"Window \" + (isWindowClosed(win) ? \"closed\" : \"cleaned up\") + \" before response\")).catch(src_util_noop);\n        }\n        setup();\n    } ]);\n}));\n});\n\nvar postRobot$1 = createCommonjsModule(function (module) {\n/* @flow */\n\n// eslint-disable-next-line import/no-commonjs\nmodule.exports = postRobot;\n\n// eslint-disable-next-line import/no-commonjs\nmodule.exports.default = module.exports;\n});\n\nvar useCorsState = function (synchronizingKey, options, initialValue) {\r\n    var _a = useState(initialValue), state = _a[0], setState = _a[1];\r\n    var sendable = useRef(true);\r\n    useEffect(function () {\r\n        var literner = postRobot$1.on(synchronizingKey, options, function (_a) {\r\n            var data = _a.data;\r\n            sendable.current = false;\r\n            setState(data);\r\n        });\r\n        return function () { return literner.cancel(); };\r\n    }, [synchronizingKey, options]);\r\n    useEffect(function () {\r\n        sendable.current && postRobot$1.send(((options === null || options === void 0 ? void 0 : options.window) || window), synchronizingKey, state);\r\n        sendable.current = true;\r\n    }, [state, synchronizingKey, options.window]);\r\n    return [state, setState];\r\n};\n\nexport { useCorsState };\n"],"sourceRoot":""}